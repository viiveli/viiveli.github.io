<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>viiveli @ GitHub</title>

  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body class="w3-text-dark-gray">

  <div id="contents" class="w3-display-topmiddle w3-half">
    <div id="leftpanel" class="w3-panel w3-third w3-right-align">
      <h1>viiveli</h1>
      <img src="img/profile.jpg" class="w3-card" style="width: 100%;">
      <p>
        <a href="https://github.com/viiveli/"><i class="fa fa-github-square w3-xlarge"></i></a>
        <a href="https://www.linkedin.com/in/veliviisanen/"><i class="fa fa-linkedin-square w3-xlarge"></i></a>
        &nbsp;
        <a style="cursor: pointer;" onclick="mode();"><i class="fa fa-lightbulb-o w3-xlarge"></i></a>
      </p>
    </div>
    <div id="rightpanel" class="w3-panel w3-twothird">
      <div id="aboutcontainer" class="w3-container">
        <h1>about</h1>
        <p>
          An engineer and a bit of a tech nerd with a fair amount of diverse work experience. Strong technical
          foundations in electromechanics, currently developing data pipelines & software solutions surrounding AM
          materials development.
        </p>
        <p>
          Familiar with Python, JavaScript/TypeScript, HTML/CSS, Git, Azure DevOps, MS Power Platform and MS Azure at
          junior level
        </p>
        <p>
          I enjoy simple, minimalistic things with a function. Like bicycles. Or beer.
        </p>
      </div>

      <hr>

      <div id="projectcontainer" class="w3-container">
        <h2>projects, gizmos and doodads</h2>
      </div>
      <div class="w3-container w3-right-align w3-tiny w3-opacity">
        <a href="https://www.w3schools.com/w3css">Powered by W3.CSS</a>
      </div>
    </div>
  </div>

</body>
<script>
  const mode = () => {
    if (document.querySelector('body.w3-text-dark-gray')) {
      document.querySelector('body').classList.replace('w3-text-dark-gray', 'w3-text-light-gray');
      document.querySelector('body').classList.add('w3-black');
    } else {
      document.querySelector('body').classList.replace('w3-text-light-gray', 'w3-text-dark-gray');
      document.querySelector('body').classList.remove('w3-black');
    }
  }

  let info = [
    {
      name: 'geotagger',
      summary: 'A simple "mobile first" web app for personal use to collect location data about any observations, in my case mostly birdwatching.'
    },
    {
      name: 'aoc2022',
      header: 'advent of code 2022',
      summary: 'My attempt to solve <a href="https://adventofcode.com/">Advent of Code 2022</a> puzzles with TypeScript.'
    },
    {
      name: 'viiveli.github.io',
      summary: 'This page. A portfolio of some kind I guess'
    },
    {
      name: 'solartracker-public',
      header: 'solar tracker',
      summary: 'A bit useless and vaguely engineered autonomous photovoltaic energy harvester running on ESP32 devkit board and micropython.'
    },
    {
      name: 'NIRScanner',
      header: 'NIR scanner',
      summary: 'A proof of concept project originated from a course I attended during my engineering studies in the spring of 2020. The topic was "Machine vision and sensor technology" and the goal was to explore techniques which could be used to sort textile waste.'
    },
    {
      name: 'mazethingy',
      header: 'maze thingy',
      summary: 'A brute force maze solving algorithm I did as a coding challenge during job hunting. Not that pretty but works.'
    }
  ]

  fetch(
    'https://api.github.com/users/viiveli/repos'
  ).then(
    res => {
      if (!res.ok) throw res;
      return res.json()
    }
  ).then(
    repos => {
      repos.sort((a, b) => b.pushed_at.localeCompare(a.pushed_at));

      repos.slice(0, 5).forEach(repo => {
        let additionalInfo = info.find(i => i.name == repo.name);

        let repoCard = document.createElement('div');
        repoCard.setAttribute('id', repo.name);
        repoCard.classList.add('w3-container');

        let repoHeader = document.createElement('h3');
        repoHeader.innerText = additionalInfo?.header ? additionalInfo.header : repo.name;

        let repoLinkPanel = document.createElement('p');
        let repoLink = document.createElement('a');
        repoLink.setAttribute('href', repo.html_url);
        repoLink.innerText = repo.html_url;
        repoLinkPanel.append(repoLink);

        let repoLatestActivity = document.createElement('p');
        repoLatestActivity.classList.add('w3-tiny')
        repoLatestActivity.innerText = `Latest activity on ${new Date(repo.pushed_at).toLocaleString()}`

        let repoSummary = document.createElement('p');
        repoSummary.innerHTML = additionalInfo?.summary ? additionalInfo.summary : '';

        let divider = document.createElement('hr');

        repoCard.append(
          repoHeader,
          repoLinkPanel,
          repoLatestActivity,
          repoSummary,
          divider
        )

        document.getElementById('projectcontainer').append(repoCard);
      });
    }
  ).catch(
    error => {
      console.log(error);
      document.getElementById('projectcontainer').innerHTML += '<i>Whoops. Could not fetch repo info from GitHub...</i>';
    }
  );
</script>

</html>